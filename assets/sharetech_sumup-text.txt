# ShareTech - Architecture du Projet
---
## 1. Description du Projet

**ShareTech** est une plateforme collaborative dÃ©veloppÃ©e pour l'entreprise Memory. Elle centralise la documentation et la gestion de tÃ¢ches pour les Ã©quipes de dÃ©veloppement.

### Objectifs
- Centraliser les connaissances dans un espace unique
- Faciliter le suivi des tÃ¢ches et leur assignation
- AmÃ©liorer la collaboration entre dÃ©veloppeurs
- Tracer l'historique des dÃ©cisions

### FonctionnalitÃ©s Principales

**Partage de Connaissances**
- CrÃ©ation et gestion de notes
- SystÃ¨me de commentaires hiÃ©rarchiques (max 5 niveaux)
- Classification par tags (max 10 par note)
- Recherche full-text dans titres et contenus
- Gestion de fichiers joints (max 100MB)

**Gestion de TÃ¢ches**
- CrÃ©ation et assignation de tÃ¢ches aux membres
- Suivi d'avancement avec statuts (Ã  faire â†’ en cours â†’ en test â†’ terminÃ©e)
- Gestion des prioritÃ©s (basse, normale, haute, urgente) et Ã©chÃ©ances
- Tableau de bord Kanban
- Notifications automatiques sur changements

**SystÃ¨me Collaboratif**
- Gestion de projets multi-membres avec rÃ´les
- SystÃ¨me de permissions hiÃ©rarchique (Junior â†’ Senior â†’ Lead â†’ Admin)
- Notifications in-app avec prÃ©fÃ©rences
- Historique complet des actions

---

## 2. Vue d'Ensemble

### Architecture Globale

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React)                      â”‚
â”‚  - Interface utilisateur                                 â”‚
â”‚  - Context API (Ã©tat global)                            â”‚
â”‚  - Communication API REST                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼ HTTP / REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend (Django REST Framework)             â”‚
â”‚  - Logique mÃ©tier                                       â”‚
â”‚  - Authentification & Permissions                       â”‚
â”‚  - API REST                                             â”‚
â”‚  - User Django par dÃ©faut + UserProfile (OneToOne)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼ ORM Django
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Base de DonnÃ©es (MariaDB)                   â”‚
â”‚  - 11 tables principales                                â”‚
â”‚  - Relations & Contraintes d'intÃ©gritÃ©                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Politique de Gestion des DonnÃ©es

**Principe gÃ©nÃ©ral : DÃ©sactiver plutÃ´t que supprimer**

Pour prÃ©server l'historique et l'intÃ©gritÃ© des donnÃ©es :

**Users (auth_user) :**
- âŒ Jamais supprimÃ©s de la base de donnÃ©es
- âœ… DÃ©sactivÃ©s via `is_active = False` quand ils quittent l'entreprise
- âœ… EmpÃªchÃ©s de se connecter mais historique prÃ©servÃ©

**Projects :**
- âŒ Jamais supprimÃ©s (protection PROTECT sur les affiliations)
- âœ… MarquÃ©s comme terminÃ©s via `is_active = False`
- âœ… Historique complet des participants prÃ©servÃ©

**ProjectMember :**
- âœ… Peut Ãªtre supprimÃ© (retrait d'un membre d'un projet)
- âœ… Le projet et le user restent intacts

Cette politique garantit :
- ðŸ”’ Protection contre les suppressions accidentelles
- ðŸ“Š TraÃ§abilitÃ© complÃ¨te (qui a travaillÃ© sur quoi)
- ðŸ“ˆ Statistiques fiables (nombre de projets rÃ©alisÃ©s)
- â®ï¸ PossibilitÃ© d'audit et d'historique

### SystÃ¨me de RÃ´les et Permissions

**HiÃ©rarchie** : Admin > Lead Developer > Senior Developer > Junior Developer

| RÃ´le | Permissions principales |
|------|-------------------------|
| **Junior** | Consulter projets, crÃ©er notes, commenter, voir tÃ¢ches assignÃ©es |
| **Senior** | Junior + modifier toutes les notes, consulter toutes les tÃ¢ches |
| **Lead** | Senior + gÃ©rer projets, crÃ©er/assigner tÃ¢ches, gÃ©rer membres |
| **Admin** | Lead + gÃ©rer utilisateurs, supprimer projets, configuration globale |

---

## 3. Stack Technique

### Backend
- **Framework** : Django 5.0.1
- **API REST** : Django REST Framework 3.14.0
- **Langage** : Python 3.12
- **DÃ©pendances clÃ©s** :
  - `django-cors-headers` - Support CORS
  - `mysqlclient` - Connecteur MariaDB
  - `python-decouple` - Gestion configuration
  - `Pillow` - Traitement d'images
  - `django-filter` - Filtres API

### Frontend
- **Framework** : React 18.x
- **Langage** : JavaScript ES6+
- **BibliothÃ¨ques** :
  - `react-router-dom` - Routage
  - `axios` - Client HTTP
  - Context API - Gestion d'Ã©tat global

### Base de DonnÃ©es
- **SGBD** : MariaDB 10.6
- **Moteur** : InnoDB (transactions ACID)
- **Collation** : utf8mb4_unicode_ci

### Infrastructure
- **Conteneurisation** : Docker 28.4.0 + Docker Compose v2.39.4-desktop.1
- **Services** :
  - `db` : MariaDB (port 3306)
  - `backend` : Django (port 8000)
  - `frontend` : React (port 3000)

### Autres 
- **OS** : Windows 11
- **IDE** : VSCode
- **Terminal** : PowerShell 
- **Authentification** : Sessions Django par dÃ©faut
- **Gestion utilisateurs** : User Django par dÃ©faut + UserProfile (OneToOne) avec rÃ´les

---

## 4. SchÃ©ma de Base de DonnÃ©es

### 4.1 Table USER - Utilisateurs (Django par dÃ©faut)

```
USER (auth_user - Table Django par dÃ©faut)
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ username              VARCHAR(150) UNIQUE NOT NULL
â”œâ”€â”€ email                 VARCHAR(254) NOT NULL
â”œâ”€â”€ password              VARCHAR(128) NOT NULL  (hash bcrypt)
â”œâ”€â”€ first_name            VARCHAR(150) NOT NULL
â”œâ”€â”€ last_name             VARCHAR(150) NOT NULL
â”œâ”€â”€ is_active             BOOLEAN DEFAULT TRUE
â”œâ”€â”€ is_staff              BOOLEAN DEFAULT FALSE
â”œâ”€â”€ is_superuser          BOOLEAN DEFAULT FALSE
â”œâ”€â”€ date_joined           TIMESTAMP DEFAULT CURRENT_TIMESTAMP
â””â”€â”€ last_login            TIMESTAMP NULL

Index:
- idx_user_username (username)
- idx_user_email (email)
```

### 4.2 Table USER_PROFILE - Profils utilisateurs

```
USER_PROFILE
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ user_id               INTEGER UNIQUE NOT NULL â†’ USER.id [CASCADE]
â”œâ”€â”€ role                  ENUM('junior', 'senior', 'lead', 'admin') DEFAULT 'junior'
â”œâ”€â”€ avatar_url            VARCHAR(255) NULL
â””â”€â”€ created_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP

Index:
- idx_userprofile_user (user_id)
- idx_userprofile_role (role)
```

### 4.3 Table PROJECT - Projets

```
PROJECT
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ name                  VARCHAR(100) NOT NULL
â”œâ”€â”€ description           VARCHAR(150) NOT NULL
â”œâ”€â”€ is_active             BOOLEAN DEFAULT TRUE
â”œâ”€â”€ created_by            INTEGER NOT NULL â†’ USER.id [PROTECT]
â”œâ”€â”€ created_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP
â””â”€â”€ updated_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

Index:
- idx_project_is_active (is_active)
- idx_project_created_by (created_by)
```

### 4.4 Table PROJECT_MEMBER - Membres de projet

```
PROJECT_MEMBER
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ project_id            INTEGER NOT NULL â†’ PROJECT.id [PROTECT]
â”œâ”€â”€ user_id               INTEGER NOT NULL â†’ USER.id [PROTECT]
â””â”€â”€ joined_at             TIMESTAMP DEFAULT CURRENT_TIMESTAMP

Contraintes:
- UNIQUE(project_id, user_id)

Index:
- idx_project_member_project (project_id)
- idx_project_member_user (user_id)

Note: Les permissions sont dÃ©finies par le rÃ´le global (UserProfile.role)
```

### 4.5 Table NOTE - Notes

```
NOTE
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ title                 VARCHAR(200) NOT NULL
â”œâ”€â”€ content               TEXT NOT NULL
â”œâ”€â”€ excerpt               VARCHAR(500) NULL
â”œâ”€â”€ status                ENUM('brouillon', 'publie', 'archive') DEFAULT 'brouillon'
â”œâ”€â”€ priority              ENUM('basse', 'normale', 'haute') DEFAULT 'normale'
â”œâ”€â”€ project_id            INTEGER NOT NULL â†’ PROJECT.id [CASCADE]
â”œâ”€â”€ author_id             INTEGER NOT NULL â†’ USER.id [CASCADE]
â”œâ”€â”€ view_count            INTEGER DEFAULT 0
â”œâ”€â”€ like_count            INTEGER DEFAULT 0
â”œâ”€â”€ created_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP
â”œâ”€â”€ updated_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
â””â”€â”€ published_at          TIMESTAMP NULL

Index:
- idx_note_project (project_id)
- idx_note_author (author_id)
- idx_note_status (status)
- idx_note_priority (priority)
- idx_note_project_status (project_id, status) [composite]
```

### 4.6 Table TASK - TÃ¢ches

```
TASK
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ title                 VARCHAR(200) NOT NULL
â”œâ”€â”€ description           TEXT NULL
â”œâ”€â”€ status                ENUM('a_faire', 'en_cours', 'en_test', 'terminee', 'annulee') DEFAULT 'a_faire'
â”œâ”€â”€ priority              ENUM('basse', 'normale', 'haute', 'urgente') DEFAULT 'normale'
â”œâ”€â”€ estimated_hours       DECIMAL(5,2) NULL
â”œâ”€â”€ actual_hours          DECIMAL(5,2) NULL
â”œâ”€â”€ due_date              DATE NULL
â”œâ”€â”€ completed_date        DATE NULL
â”œâ”€â”€ project_id            INTEGER NOT NULL â†’ PROJECT.id [CASCADE]
â”œâ”€â”€ assigned_to           INTEGER NULL â†’ USER.id [SET NULL]
â”œâ”€â”€ created_by            INTEGER NOT NULL â†’ USER.id [CASCADE]
â”œâ”€â”€ created_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP
â””â”€â”€ updated_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

Index:
- idx_task_project (project_id)
- idx_task_assigned (assigned_to)
- idx_task_status (status)
- idx_task_priority (priority)
- idx_task_due_date (due_date)
- idx_task_project_assigned (project_id, assigned_to) [composite]
- idx_task_status_due (status, due_date) [composite]
```

### 4.7 Table TAG - Ã‰tiquettes

```
TAG
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ name                  VARCHAR(50) UNIQUE NOT NULL
â”œâ”€â”€ color                 VARCHAR(7) DEFAULT '#6b7280'
â”œâ”€â”€ description           VARCHAR(200) NULL
â”œâ”€â”€ usage_count           INTEGER DEFAULT 0
â””â”€â”€ created_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP

Index:
- idx_tag_usage (usage_count)
```

### 4.8 Table NOTE_TAG - Classification notes (N:M)

```
NOTE_TAG
â”œâ”€â”€ note_id               INTEGER NOT NULL â†’ NOTE.id [CASCADE]
â”œâ”€â”€ tag_id                INTEGER NOT NULL â†’ TAG.id [CASCADE]
â””â”€â”€ assigned_at           TIMESTAMP DEFAULT CURRENT_TIMESTAMP

PRIMARY KEY (note_id, tag_id)
```

### 4.9 Table TASK_TAG - Classification tÃ¢ches (N:M)

```
TASK_TAG
â”œâ”€â”€ task_id               INTEGER NOT NULL â†’ TASK.id [CASCADE]
â”œâ”€â”€ tag_id                INTEGER NOT NULL â†’ TAG.id [CASCADE]
â””â”€â”€ assigned_at           TIMESTAMP DEFAULT CURRENT_TIMESTAMP

PRIMARY KEY (task_id, tag_id)
```

### 4.10 Table COMMENT - Commentaires

```
COMMENT
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ content               TEXT NOT NULL
â”œâ”€â”€ note_id               INTEGER NOT NULL â†’ NOTE.id [CASCADE]
â”œâ”€â”€ author_id             INTEGER NOT NULL â†’ USER.id [CASCADE]
â”œâ”€â”€ parent_comment_id     INTEGER NULL â†’ COMMENT.id [CASCADE]
â”œâ”€â”€ is_edited             BOOLEAN DEFAULT FALSE
â”œâ”€â”€ like_count            INTEGER DEFAULT 0
â”œâ”€â”€ created_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP
â””â”€â”€ updated_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

Index:
- idx_comment_note (note_id)
- idx_comment_author (author_id)
- idx_comment_parent (parent_comment_id)
```

### 4.11 Table ATTACHMENT - Fichiers joints

```
ATTACHMENT
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ original_name         VARCHAR(255) NOT NULL
â”œâ”€â”€ stored_name           VARCHAR(255) NOT NULL
â”œâ”€â”€ file_path             VARCHAR(500) NOT NULL
â”œâ”€â”€ file_size             INTEGER NOT NULL
â”œâ”€â”€ mime_type             VARCHAR(100) NOT NULL
â”œâ”€â”€ file_hash             VARCHAR(64) NULL
â”œâ”€â”€ note_id               INTEGER NULL â†’ NOTE.id [CASCADE]
â”œâ”€â”€ comment_id            INTEGER NULL â†’ COMMENT.id [CASCADE]
â”œâ”€â”€ uploaded_by           INTEGER NOT NULL â†’ USER.id [CASCADE]
â””â”€â”€ upload_date           TIMESTAMP DEFAULT CURRENT_TIMESTAMP

Contraintes:
- CHECK (note_id IS NOT NULL OR comment_id IS NOT NULL)

Index:
- idx_attachment_note (note_id)
- idx_attachment_comment (comment_id)
- idx_attachment_uploaded_by (uploaded_by)
```

### 4.12 Table NOTIFICATION - Notifications

```
NOTIFICATION
â”œâ”€â”€ id                    INTEGER PRIMARY KEY AUTO_INCREMENT
â”œâ”€â”€ type                  ENUM('note_created', 'note_updated', 'task_assigned', 
â”‚                              'task_completed', 'comment_added', 'mention', 
â”‚                              'project_invitation') NOT NULL
â”œâ”€â”€ title                 VARCHAR(200) NOT NULL
â”œâ”€â”€ message               TEXT NOT NULL
â”œâ”€â”€ user_id               INTEGER NOT NULL â†’ USER.id [CASCADE]
â”œâ”€â”€ related_note_id       INTEGER NULL â†’ NOTE.id [SET NULL]
â”œâ”€â”€ related_task_id       INTEGER NULL â†’ TASK.id [SET NULL]
â”œâ”€â”€ related_comment_id    INTEGER NULL â†’ COMMENT.id [SET NULL]
â”œâ”€â”€ related_project_id    INTEGER NULL â†’ PROJECT.id [SET NULL]
â”œâ”€â”€ triggered_by          INTEGER NULL â†’ USER.id [SET NULL]
â”œâ”€â”€ is_read               BOOLEAN DEFAULT FALSE
â”œâ”€â”€ read_at               TIMESTAMP NULL
â”œâ”€â”€ created_at            TIMESTAMP DEFAULT CURRENT_TIMESTAMP
â””â”€â”€ expires_at            TIMESTAMP NULL

Index:
- idx_notification_user (user_id)
- idx_notification_type (type)
- idx_notification_read (is_read)
- idx_notification_user_unread (user_id, is_read) [composite]
```

### 4.13 SchÃ©ma Relationnel Global

```
USER (1,1) â†â”€â”€has_profileâ”€â”€â†’ USER_PROFILE (1,1)
USER (1,n) â”€â”€createsâ”€â”€â†’ PROJECT (1,1)
USER (1,n) â”€â”€belongs_toâ”€â”€â†’ PROJECT (0,n) [via PROJECT_MEMBER]
USER (1,n) â”€â”€authorsâ”€â”€â†’ NOTE (1,1)
USER (0,1) â”€â”€assigned_toâ”€â”€â†’ TASK (1,n)
USER (1,n) â”€â”€createsâ”€â”€â†’ TASK (1,1)
USER (1,n) â”€â”€authorsâ”€â”€â†’ COMMENT (1,1)
USER (1,n) â”€â”€uploadsâ”€â”€â†’ ATTACHMENT (1,1)
USER (1,n) â”€â”€receivesâ”€â”€â†’ NOTIFICATION (1,1)

PROJECT (1,n) â”€â”€containsâ”€â”€> NOTE (1,1)
PROJECT (1,n) â”€â”€containsâ”€â”€> TASK (1,1)

NOTE (1,n) â”€â”€hasâ”€â”€> COMMENT (0,n)
NOTE (1,n) â”€â”€hasâ”€â”€> ATTACHMENT (0,n)
NOTE (0,n) â”€â”€classified_byâ”€â”€> TAG (0,n) [via NOTE_TAG]

TASK (0,n) â”€â”€classified_byâ”€â”€> TAG (0,n) [via TASK_TAG]

COMMENT (0,1) â”€â”€replies_toâ”€â”€> COMMENT (0,n) [self-referencing]
COMMENT (1,n) â”€â”€hasâ”€â”€> ATTACHMENT (0,n)
```

### 4.14 RÃ¨gles de Suppression (ON DELETE)

**CASCADE** - Suppression en cascade :
- USER â†’ USER_PROFILE (profil supprimÃ© si user supprimÃ©)
- PROJECT â†’ NOTE, TASK (notes/tÃ¢ches supprimÃ©es si projet supprimÃ©)
- NOTE â†’ COMMENT, ATTACHMENT, NOTE_TAG (commentaires/fichiers/tags supprimÃ©s)
- TASK â†’ TASK_TAG (associations tags supprimÃ©es)
- TAG â†’ NOTE_TAG, TASK_TAG (associations supprimÃ©es)
- COMMENT â†’ COMMENT (replies), ATTACHMENT (fichiers supprimÃ©s)

**PROTECT** - EmpÃªche la suppression (prÃ©serve l'historique) :
- USER â†’ PROJECT.created_by (impossible de supprimer un user ayant crÃ©Ã© des projets)
- USER â†’ PROJECT_MEMBER.user (impossible de supprimer un user membre de projets)
- PROJECT â†’ PROJECT_MEMBER.project (impossible de supprimer un projet ayant des membres)

**SET NULL** - Mise Ã  NULL :
- USER â†’ TASK.assigned_to (tÃ¢che reste mais assignation perdue)
- NOTE/TASK/COMMENT/PROJECT â†’ NOTIFICATION (related_*) (notification reste mais lien perdu)
- USER â†’ NOTIFICATION.triggered_by (notification reste mais dÃ©clencheur perdu)

---

## 5. Structure du Projet

### 5.1 Backend Django (Architecture Feature-Based)

```
backend/
â”œâ”€â”€ sharetech/                  # Configuration Django principale
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py             # Configuration globale
â”‚   â”œâ”€â”€ urls.py                 # Routage principal
â”‚   â””â”€â”€ wsgi.py                 # Point d'entrÃ©e WSGI
â”‚
â”œâ”€â”€ accounts/                   # Feature #1 - Authentification & Utilisateurs
â”‚   â”œâ”€â”€ models.py               # UserProfile (OneToOne avec User Django)
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ permissions.py
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ projects/                   # Feature #2 - Projets & Membres
â”‚   â”œâ”€â”€ models.py               # Project, ProjectMember
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ permissions.py
â”‚   â”œâ”€â”€ filters.py
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ tags/                       # Feature #3 - Tags (transversal)
â”‚   â”œâ”€â”€ models.py               # Tag
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ notes/                      # Feature #4 - Notes
â”‚   â”œâ”€â”€ models.py               # Note, NoteTag
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ permissions.py
â”‚   â”œâ”€â”€ filters.py
â”‚   â”œâ”€â”€ services.py             # Versioning, search
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ tasks/                      # Feature #5 - TÃ¢ches
â”‚   â”œâ”€â”€ models.py               # Task, TaskTag
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ permissions.py
â”‚   â”œâ”€â”€ filters.py
â”‚   â”œâ”€â”€ services.py             # Assignation
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ comments/                   # Feature #6 - Commentaires
â”‚   â”œâ”€â”€ models.py               # Comment
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ permissions.py
â”‚   â”œâ”€â”€ services.py             # HiÃ©rarchie
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ notifications/              # Feature #7 - Notifications
â”‚   â”œâ”€â”€ models.py               # Notification
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ services.py             # CrÃ©ation auto
â”‚   â”œâ”€â”€ signals.py              # Django signals
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ attachments/                # Feature #8 - Fichiers
â”‚   â”œâ”€â”€ models.py               # Attachment
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ services.py             # Upload sÃ©curisÃ©
â”‚   â”œâ”€â”€ validators.py
â”‚   â”œâ”€â”€ storage.py
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ requirements.txt            # DÃ©pendances Python
â”œâ”€â”€ Dockerfile
â””â”€â”€ manage.py                   # CLI Django
```

### 5.2 Frontend React

```
frontend/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ favicon.ico
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/             # Composants rÃ©utilisables
â”‚   â”‚   â”œâ”€â”€ common/             # Boutons, inputs, modals, cards
â”‚   â”‚   â”œâ”€â”€ auth/               # LoginForm, PrivateRoute
â”‚   â”‚   â”œâ”€â”€ projects/           # ProjectCard, ProjectList, ProjectForm
â”‚   â”‚   â”œâ”€â”€ notes/              # NoteCard, NoteEditor, NoteList
â”‚   â”‚   â”œâ”€â”€ tasks/              # TaskCard, TaskBoard, TaskForm
â”‚   â”‚   â”œâ”€â”€ comments/           # CommentItem, CommentThread
â”‚   â”‚   â”œâ”€â”€ tags/               # TagBadge, TagSelector
â”‚   â”‚   â”œâ”€â”€ notifications/      # NotificationBell, NotificationList
â”‚   â”‚   â””â”€â”€ navigation/         # Header, Sidebar, Navbar
â”‚   â”‚
â”‚   â”œâ”€â”€ contexts/               # Context API (Ã©tat global)
â”‚   â”‚   â”œâ”€â”€ AuthContext.js      # Utilisateur connectÃ©
â”‚   â”‚   â”œâ”€â”€ ProjectContext.js   # Projets et projet actuel
â”‚   â”‚   â”œâ”€â”€ TaskContext.js      # TÃ¢ches par statut
â”‚   â”‚   â””â”€â”€ NotificationContext.js  # Notifications
â”‚   â”‚
â”‚   â”œâ”€â”€ services/               # Services API (Axios)
â”‚   â”‚   â”œâ”€â”€ apiConfig.js        # Configuration Axios
â”‚   â”‚   â”œâ”€â”€ authService.js
â”‚   â”‚   â”œâ”€â”€ projectService.js
â”‚   â”‚   â”œâ”€â”€ noteService.js
â”‚   â”‚   â”œâ”€â”€ taskService.js
â”‚   â”‚   â”œâ”€â”€ commentService.js
â”‚   â”‚   â”œâ”€â”€ tagService.js
â”‚   â”‚   â”œâ”€â”€ notificationService.js
â”‚   â”‚   â””â”€â”€ attachmentService.js
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                  # Pages principales
â”‚   â”‚   â”œâ”€â”€ LoginPage.js
â”‚   â”‚   â”œâ”€â”€ Dashboard.js
â”‚   â”‚   â”œâ”€â”€ ProjectListPage.js
â”‚   â”‚   â”œâ”€â”€ ProjectDetailPage.js
â”‚   â”‚   â”œâ”€â”€ NoteDetailPage.js
â”‚   â”‚   â”œâ”€â”€ NoteEditorPage.js
â”‚   â”‚   â”œâ”€â”€ TaskBoardPage.js
â”‚   â”‚   â”œâ”€â”€ ProfilePage.js
â”‚   â”‚   â””â”€â”€ NotFoundPage.js
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                  # Utilitaires
â”‚   â”‚   â”œâ”€â”€ constants.js        # Constantes (rÃ´les, statuts)
â”‚   â”‚   â”œâ”€â”€ helpers.js
â”‚   â”‚   â”œâ”€â”€ validators.js
â”‚   â”‚   â”œâ”€â”€ formatters.js
â”‚   â”‚   â””â”€â”€ permissions.js
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                 # Styles CSS
â”‚   â”‚   â”œâ”€â”€ App.css
â”‚   â”‚   â”œâ”€â”€ variables.css
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚
â”‚   â”œâ”€â”€ App.js                  # Composant racine + routing
â”‚   â””â”€â”€ index.js                # Point d'entrÃ©e
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ Dockerfile
â””â”€â”€ .gitignore
```

---

## 6. RÃ©sumÃ© de l'Organisation des DonnÃ©es

### 6.1 Backend - Features Django

| Feature | ResponsabilitÃ© | Models | PrioritÃ© |
|---------|---------------|--------|----------|
| **accounts** | Authentification et gestion utilisateurs | UserProfile (liÃ© au User Django par dÃ©faut) |  #1 ESSENTIEL |
| **projects** | Projets collaboratifs et membres | Project, ProjectMember |  #2 ESSENTIEL |
| **tags** | Tags partagÃ©s pour classification | Tag |  #3 TRANSVERSAL |
| **notes** | Notes | Note, NoteTag |  #4 CORE |
| **tasks** | TÃ¢ches avec assignation et suivi | Task, TaskTag |  #5 CORE |
| **comments** | Commentaires hiÃ©rarchiques sur notes | Comment | #6 ENHANCEMENT |
| **notifications** | Notifications automatiques in-app | Notification | #7 ENHANCEMENT |
| **attachments** | Upload et gestion de fichiers | Attachment | #8 ENHANCEMENT |

### 6.2 Frontend - Organisation par Type

**Contexts (Ã‰tat Global)**
- `AuthContext` : Gestion utilisateur connectÃ©, login/logout
- `ProjectContext` : Liste projets et projet actuel sÃ©lectionnÃ©
- `TaskContext` : TÃ¢ches organisÃ©es par statut (Kanban)
- `NotificationContext` : Notifications + compteur non lues

**Services API**
- Un service par feature backend
- Communication HTTP via Axios
- Gestion centralisÃ©e des erreurs et CSRF tokens

**Pages Principales**
- `LoginPage` : Authentification
- `Dashboard` : Vue d'ensemble personnelle (tÃ¢ches, notifications, activitÃ©)
- `ProjectListPage` : Liste des projets accessibles
- `ProjectDetailPage` : DÃ©tail projet avec tabs (notes, tÃ¢ches, membres)
- `NoteDetailPage` : Affichage note avec commentaires
- `NoteEditorPage` : CrÃ©ation/Ã©dition
- `TaskBoardPage` : Tableau Kanban des tÃ¢ches
- `ProfilePage` : Profil et paramÃ¨tres utilisateur

---

## 7. SÃ©curitÃ© 

Variables d'environnement stockÃ©es dans le fichier `.env` :

```bash
# === DJANGO SETTINGS ===
SECRET_KEY=ton_secret_key_super_long_et_aleatoire_ici
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# === DATABASE (MariaDB) ===
DB_NAME=sharetech_db
DB_USER=sharetech_user
DB_PASSWORD=ton_mot_de_passe_securise
DB_HOST=db
DB_PORT=3306

# === CORS (Communication Frontend/Backend) ===
CORS_ALLOWED_ORIGINS=http://localhost:3000

# === MEDIA FILES (fichiers uploadÃ©s) ===
MEDIA_ROOT=/app/media
MEDIA_URL=/media/
```

Organisation des fichiers uploadÃ©s par type d'entitÃ© pour Ã©viter les collisions.

---

## 8. Divers

- **GitHub** : UtilisÃ© pour stocker le code (pas besoin de dÃ©tailler ici)
- **Migrations** : CrÃ©Ã©es automatiquement par Django
- **SystÃ¨me de seeding** : Django fixtures (JSON)
- **Backup** : Ã€ dÃ©finir lors du dÃ©ploiement
- **SystÃ¨me de routes** : CrÃ©Ã© au fur et Ã  mesure, logique et ordonnÃ© (pas besoin de dÃ©tailler)
- **Gestion des formulaires** : React natif

---

## 9. Tests

ImplÃ©mentation de tests progressive au fur et Ã  mesure du dÃ©veloppement.

**Types de tests :**
- Tests Unitaires : Fonctions isolÃ©es, validations, propriÃ©tÃ©s modÃ¨les
- Tests d'IntÃ©gration : Endpoints API complets (requÃªte â†’ DB â†’ rÃ©ponse)
- Tests de Permissions : VÃ©rifier accÃ¨s par rÃ´le pour chaque action

**Outils Backend (Django) :**
- `pytest` : Framework de test moderne pour Python
- `pytest-django` : Plugin pour intÃ©grer Django avec pytest
- `pytest-cov` : Mesure de la couverture de code
- `factory_boy` : GÃ©nÃ©ration de donnÃ©es de test (fixtures)
- `django-test-plus` : Extensions utiles pour les tests Django
- `black` : Formatteur de code Python
- `flake8` : Linter pour dÃ©tecter les erreurs de style et de syntaxe
- `isort` : Trie les imports Python

**Outils Frontend (React) :**
- `Jest` : Framework de test pour JavaScript/React
- `@testing-library/react` : Utilitaires pour tester les composants React
- `react-test-renderer` : Pour tester le rendu des composants
- `eslint` : Linter pour JavaScript/React
- `prettier` : Formatteur de code pour une cohÃ©rence visuelle

---

## 10. Documentation API

GÃ©nÃ©ration automatique par Django REST Framework.