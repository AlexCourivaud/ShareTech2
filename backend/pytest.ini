[pytest]
# Configuration pytest pour ShareTech

# Indique à pytest où se trouve le fichier settings.py de Django
DJANGO_SETTINGS_MODULE = sharetech.settings

# Patterns de fichiers de tests à découvrir
python_files = tests.py test_*.py *_tests.py

# Options par défaut pour accélérer les tests
# --nomigrations : Ne recrée pas les migrations (plus rapide)
# --reuse-db : Réutilise la base de données de test entre les sessions
# -v : Mode verbose (affiche chaque test)
# --tb=short : Traceback court en cas d'erreur
# --strict-markers : Erreur si on utilise un marker non déclaré
addopts = --nomigrations --reuse-db -v --tb=short --strict-markers

# Dossiers à ignorer lors de la découverte des tests
testpaths = .

# Markers personnalisés (pour catégoriser les tests)
markers =
    slow: Tests lents (désactivés par défaut)
    integration: Tests d'intégration
    unit: Tests unitaires
